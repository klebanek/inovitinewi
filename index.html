<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Elmar - Ewidencja Czasu Pracy</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Ekran powitalny -->
    <div id="welcome-screen" class="screen active">
        <div class="welcome-container">
            <div class="logo-container">
                <div class="logo-circle">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="10"/>
                        <polyline points="12,6 12,12 16,14"/>
                    </svg>
                </div>
            </div>
            <h1 class="welcome-title">Elmar</h1>
            <p class="welcome-subtitle">System Ewidencji Czasu Pracy</p>
            <button id="start-work-btn" class="btn btn-success btn-large">
                <svg viewBox="0 0 24 24" fill="currentColor">
                    <polygon points="5,3 19,12 5,21"/>
                </svg>
                <span>Rozpocznij pracę</span>
            </button>
            <button id="show-history-btn" class="btn btn-secondary btn-history">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M12 8v4l3 3"/>
                    <circle cx="12" cy="12" r="10"/>
                </svg>
                <span>Historia</span>
            </button>
            <p class="welcome-date" id="welcome-date"></p>
        </div>
    </div>

    <!-- Ekran timera (podczas pracy) -->
    <div id="timer-screen" class="screen">
        <header class="header">
            <div class="header-content">
                <h1 class="app-title">Elmar</h1>
                <p class="current-date" id="current-date"></p>
            </div>
        </header>

        <main class="main-content">
            <!-- Info o rozpoczęciu -->
            <div class="work-info">
                <p>Praca rozpoczęta o <strong id="work-start-display">--:--</strong></p>
            </div>

            <!-- Zegar -->
            <div class="timer-section">
                <div class="timer-display">
                    <span id="hours">00</span>
                    <span class="timer-separator">:</span>
                    <span id="minutes">00</span>
                    <span class="timer-separator">:</span>
                    <span id="seconds">00</span>
                </div>
                <p class="timer-label" id="timer-label">Czas pracy</p>
            </div>

            <!-- Status -->
            <div class="status-section">
                <div class="status-indicator" id="status-indicator">
                    <div class="status-dot"></div>
                    <span id="status-text">W pracy</span>
                </div>
            </div>

            <!-- Przyciski przerwy -->
            <div class="break-controls">
                <h3 class="section-title">Przerwa</h3>
                <div class="break-buttons">
                    <button id="start-break-btn" class="btn btn-warning">
                        <svg viewBox="0 0 24 24" fill="currentColor">
                            <rect x="6" y="4" width="4" height="16"/>
                            <rect x="14" y="4" width="4" height="16"/>
                        </svg>
                        <span>Rozpocznij przerwę</span>
                    </button>
                    <button id="end-break-btn" class="btn btn-info" disabled>
                        <svg viewBox="0 0 24 24" fill="currentColor">
                            <polygon points="5,3 19,12 5,21"/>
                        </svg>
                        <span>Zakończ przerwę</span>
                    </button>
                </div>
            </div>

            <!-- Aktualny czas przerwy -->
            <div class="break-timer-section" id="break-timer-section" style="display: none;">
                <p class="break-timer-label">Czas przerwy:</p>
                <div class="break-timer-display">
                    <span id="break-hours">00</span>:<span id="break-minutes">00</span>:<span id="break-seconds">00</span>
                </div>
            </div>

            <!-- Lista przerw -->
            <div class="breaks-list" id="breaks-list" style="display: none;">
                <h3 class="section-title">Dzisiejsze przerwy</h3>
                <div id="breaks-container"></div>
            </div>

            <!-- Przycisk zakończenia -->
            <div class="end-work-section">
                <button id="end-work-btn" class="btn btn-danger btn-xl">
                    <svg viewBox="0 0 24 24" fill="currentColor">
                        <rect x="4" y="4" width="16" height="16" rx="2"/>
                    </svg>
                    <span>Zakończ pracę</span>
                </button>
            </div>
        </main>
    </div>

    <!-- Ekran podsumowania -->
    <div id="summary-screen" class="screen">
        <div class="summary-container">
            <div class="summary-header">
                <div class="summary-icon">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/>
                        <polyline points="22 4 12 14.01 9 11.01"/>
                    </svg>
                </div>
                <h2>Podsumowanie dnia</h2>
                <p class="summary-date" id="summary-date"></p>
            </div>

            <div class="summary-cards">
                <div class="summary-card">
                    <div class="card-icon start">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="10"/>
                            <polyline points="12,6 12,12 16,14"/>
                        </svg>
                    </div>
                    <div class="card-content">
                        <p class="card-label">Początek pracy</p>
                        <p class="card-value" id="summary-start-time">--:--</p>
                    </div>
                </div>

                <div class="summary-card">
                    <div class="card-icon end">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="10"/>
                            <polyline points="12,6 12,12 8,14"/>
                        </svg>
                    </div>
                    <div class="card-content">
                        <p class="card-label">Koniec pracy</p>
                        <p class="card-value" id="summary-end-time">--:--</p>
                    </div>
                </div>

                <div class="summary-card highlight">
                    <div class="card-icon total">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
                            <line x1="16" y1="2" x2="16" y2="6"/>
                            <line x1="8" y1="2" x2="8" y2="6"/>
                            <line x1="3" y1="10" x2="21" y2="10"/>
                        </svg>
                    </div>
                    <div class="card-content">
                        <p class="card-label">Przepracowane godziny</p>
                        <p class="card-value large" id="summary-total-time">0h 0m</p>
                    </div>
                </div>
            </div>

            <div class="summary-breaks" id="summary-breaks">
                <h3>Przerwy</h3>
                <div id="summary-breaks-list"></div>
                <div class="total-break-time">
                    <span>Łączny czas przerw:</span>
                    <strong id="summary-total-break">0h 0m</strong>
                </div>
            </div>

            <div class="summary-actions">
                <button id="new-day-btn" class="btn btn-primary btn-large">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M12 5v14M5 12h14"/>
                    </svg>
                    <span>Nowy dzień pracy</span>
                </button>
            </div>
        </div>
    </div>

    <!-- Ekran historii -->
    <div id="history-screen" class="screen">
        <header class="header">
            <div class="header-content">
                <button id="back-from-history-btn" class="btn-back">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M19 12H5M12 19l-7-7 7-7"/>
                    </svg>
                </button>
                <h1 class="app-title">Historia</h1>
                <div></div>
            </div>
        </header>

        <main class="main-content">
            <!-- Panel selekcji i eksportu -->
            <div class="export-panel" id="export-panel">
                <div class="export-panel-left">
                    <label class="checkbox-container select-all-container">
                        <input type="checkbox" id="select-all-checkbox">
                        <span class="checkmark"></span>
                        <span class="checkbox-label">Zaznacz wszystkie</span>
                    </label>
                    <span class="selected-count" id="selected-count">Wybrano: 0</span>
                </div>
                <button id="export-excel-btn" class="btn btn-success btn-export" disabled>
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="18" height="18">
                        <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                        <polyline points="14 2 14 8 20 8"/>
                        <line x1="12" y1="18" x2="12" y2="12"/>
                        <line x1="9" y1="15" x2="12" y2="18"/>
                        <line x1="15" y1="15" x2="12" y2="18"/>
                    </svg>
                    Eksportuj do Excel
                </button>
            </div>

            <div class="history-list" id="history-list">
                <p class="empty-history" id="empty-history">Brak zapisanych dni pracy</p>
            </div>
        </main>
    </div>

    <!-- Modal edycji -->
    <div id="edit-modal" class="modal">
        <div class="modal-backdrop"></div>
        <div class="modal-content">
            <div class="modal-header">
                <h2>Edytuj wpis</h2>
                <button id="close-modal-btn" class="btn-close">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M18 6L6 18M6 6l12 12"/>
                    </svg>
                </button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label>Data pracy</label>
                    <input type="date" id="edit-date" class="form-input">
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>Rozpoczęcie pracy</label>
                        <input type="time" id="edit-start-time" class="form-input">
                    </div>
                    <div class="form-group">
                        <label>Zakończenie pracy</label>
                        <input type="time" id="edit-end-time" class="form-input">
                    </div>
                </div>

                <div class="form-section">
                    <div class="form-section-header">
                        <label>Przerwy</label>
                        <button id="add-break-btn" class="btn btn-small btn-secondary">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="16" height="16">
                                <path d="M12 5v14M5 12h14"/>
                            </svg>
                            Dodaj przerwę
                        </button>
                    </div>
                    <div id="edit-breaks-list" class="edit-breaks-list">
                        <!-- Przerwy będą dodawane dynamicznie -->
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button id="cancel-edit-btn" class="btn btn-secondary">Anuluj</button>
                <button id="save-edit-btn" class="btn btn-primary">Zapisz zmiany</button>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
